Como ayuda, puedes ejecutar el procedimiento tal como está para ver qué es lo que hace distinto. 
